---
title: 'Установка при помощи Docker'
---

:::info
Для работы с Docker-контейнерами необходимо установить [Docker](https://docs.docker.com/get-docker/) и [Docker Compose](https://docs.docker.com/compose/).
:::

### Запуск Mycompany с помощью Docker Compose {#docker-platform}

- Скачайте файл `compose.yaml` с [центрального сервера](https://download.lsfusion.org/solutions/mycompany-docker/) в выбранную папку (будем называть её `$FUSION_DIR$`). Этот файл содержит настройки для запуска четырёх контейнеров:
  - PostgreSQL
  - Сервер приложений
  - Mycompany
  - Веб-клиент

- Настройка `compose.yaml` (опционально):
  - Если требуется изменить параметры запуска (например, использовать другую версию контейнера или настроить переменные окружения), отредактируйте файл `compose.yaml` в соответствии с [документацией Docker](https://docs.docker.com/get-started/overview/).
  - Параметры запуска сервера приложений также можно задавать при помощи переменных среды контейнера - в атрибуте environment. К примеру, чтобы изменить локаль сервера на русскую, напишите:
    ```yml
    environment:
      - USER_SETLANGUAGE=ru
      - USER_SETCOUNTRY=RU
    ```    
    При поиске параметров запуска в переменных среды Spring автоматически преобразует их к верхнему регистру и заменяет точки на символы подчёркивания. В примере выше значения переменных среды подставятся в соответствующие параметры: `user.setLanguage` и `user.setCountry`.
  - Доступные образы контейнеров lsFusion:
    - [Сервер](https://hub.docker.com/r/lsfusion/server/tags)
    - [Клиент](https://hub.docker.com/r/lsfusion/client/tags)

- Запуск контейнеров:

  Перейдите в папку `$FUSION_DIR$` и выполните команду:
  ```bash
  docker-compose up
  ```
  После завершения запуска веб-клиент будет доступен по адресу: `http://localhost:8080/`.

- Работа с файлами проекта:
  После первого запуска в папке `$FUSION_DIR$` будут созданы подпапки:
  - `docker-client-conf` — конфигурация клиента.
  - `docker-db` — файлы базы данных.

  Данные сервера будут храниться в Docker volume, управляемом Docker Engine, с именем по умолчанию `mycompany_docker-server`. Там будут сохраняться ваши дополнительные модули на языке lsFusion (файлы `.lsf` или папки с ними), а также другие ресурсы (отчёты, Java-файлы, изображения, CSS, JS и т.д.) или файл `settings.properties`. Там же находятся серверные логи.

  При необходимости файлы копируются в запущенный контейнер. К примеру, чтобы скопировать папку `conf` с файлом `settings.properties`, воспользуйтесь командой:
    ```bash
    docker cp <yourPath>/conf mycompany-server-1:/lsfusion
    ```
  `mycompany-server-1` - имя контейнера сервера по умолчанию. Может изменяться в соответствии с вашими настройками.

  После остановки контейнера файлы из папки `lsfusion` будут сохранены в volume.